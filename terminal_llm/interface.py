# AUTOGENERATED! DO NOT EDIT! File to edit: ../nbs/01_interface.ipynb.

# %% auto 0
__all__ = ['Interface']

# %% ../nbs/01_interface.ipynb 3
from fastcore.all import *
from .chat import Chat
from .session_handler import SessionHandler

# %% ../nbs/01_interface.ipynb 8
class Interface:
  '''An interface that simply passes all input on to the appropriate classes.'''

  def __init__(self):
    '''Initializes the interface.'''
    self.handler = SessionHandler(self)
    print('App starting...')
    self.handler.start_app()
    
  def menu(self):
    '''Displays the menu and processes user input.'''
    while self.handler.is_running:
      self.show_menu_items()
      choice = input('You: ')
      self.handler.process_menu(choice)
    print('App closed.')
  
  def settings(self):
    '''Displays the settings menu and processes user input.'''
    self.show_settings_items()
    choice = input('You: ')
    self.handler.process_settings(choice)
  
  def previous_chats(self):
    print("Enter a chat's number. Enter 0 to go back.")
    self.show_previous_chats()
    choice = input('You: ')
    self.handler.process_previous_chats(choice)
  
  def show_menu_items(self):
    '''Displays the menu items.'''
    print('''
    This is the chat interface.
    0 - Exit
    1 - Settings
    2 - Start Chat
    3 - Previous Chats
    ''')
  
  def show_settings_items(self):
    '''Displays the settings items.'''
    print('''
    Settings
    0 - Back
    1 - Set API Key
    2 - Set Model
    ''')
  
  def show_previous_chats(self):
    '''Displays previous chats.'''
    for chat in Path('.storage/chats').ls(): print(chat.stem)

